{"version":3,"file":"static/js/535.f36b914b.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.js","webpack://goit-react-hw-05-movies/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.js","pages/Movies/Movies.js","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesGallery_list__aM+SO\",\"item\":\"MoviesGallery_item__rY1Lr\",\"name\":\"MoviesGallery_name__Jg+vi\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { URL_IMG } from '../../services/moviesApi';\nimport { Link } from 'react-router-dom';\nimport nophoto from \"../../imeges/nophoto.png\";\nimport styles from \"./MoviesGallery.module.css\";\n\n\nexport default function MoviesGallery({ moviesList }) {\n   return (\n      <ul className={styles.list} id=\"MoviesGallery\">\n         {moviesList.map(({ id, title, name, poster_path }) => (\n            <li className={styles.item} key={id} >\n               <Link to={`/movies/${id}`} className=\"styles.link\">\n                  <img\n                     src={poster_path ? URL_IMG + poster_path : nophoto}\n                     alt={title || name} width=\"250px\"\n                  />\n                  <p className={styles.name}><b>{title || name}</b></p>\n               </Link>\n            </li>\n         ))}\n      </ul>\n   );\n}\n\nMoviesGallery.propTypes = {\n   moviesList: PropTypes.arrayOf(\n      PropTypes.shape({\n         id: PropTypes.number.isRequired,\n         title: PropTypes.string,\n         name: PropTypes.string,\n         poster_path: PropTypes.string,\n      })\n   )\n}","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchFormInput\":\"Searchbar_SearchFormInput__FT6Bx\"};","import PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport styles from \"../Searchbar/Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n   const state = window.location.search.split('=')[1];\n   const [value, setValue] = useState('');\n\n   useEffect(() => {\n      if (state) {\n         setValue(state);\n         return;\n      }\n      setValue('');\n   }, [state]);\n\n   const onFormSubmit = e => {\n      e.preventDefault();\n      onSubmit(value);\n   };\n\n   return (\n      <div className={styles.Searchbar}>\n         <form className={styles.SearchForm} onSubmit={onFormSubmit}>\n            <input\n               className={styles.SearchFormInput}\n               type=\"text\"\n               autoComplete=\"off\"\n               autoFocus={true}\n               value={value}\n               onChange={e => setValue(e.target.value)}\n               placeholder=\"Search movies\"\n            />\n         </form>\n      </div>\n   );\n}\n\nSearchbar.propTypes = {\n   onSubmit: PropTypes.func.isRequired,\n};","import Notiflix from 'notiflix';\nimport { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { fetchSearchMovie } from \"../../services/moviesApi\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport Loader from 'components/Loader/Loader';\nimport Button from 'components/Button/Button';\nimport MoviesGallery from \"../../components/MoviesGallery/MoviesGallery\";\n\nconst Movies = () => {\n   const history = useNavigate();\n   const location = useLocation();\n   const state = window.location.search.split('=')[1];\n   const [searchName, setSearchName] = useState(state ?? '');\n   const [countPage, setCountPage] = useState(1);\n   const [moviesList, setMoviesList] = useState([]);\n   const [showLoadMore, setShowLoadMore] = useState(false);\n   const [loading, setLoading] = useState(false);\n\n   useEffect(() => {\n      if (!state) {\n         setShowLoadMore(false);\n      }\n      setSearchName(state);\n      setCountPage(1);\n      setMoviesList([]);\n   }, [state]);\n\n   useEffect(() => {\n      if (!searchName) {\n         return;\n      }\n      setShowLoadMore(false);\n      setLoading(true);\n      fetchSearchMovie(searchName, countPage)\n      .then(date => {\n         setMoviesList(prev => {\n            const filterRes = date.results.filter(({ id }) => {\n               for (const movie of prev) {\n                  if (id === movie.id) {\n                     return false;\n                  }\n               }\n            return true;\n            });\n            return [...prev, ...filterRes];\n         });\n         setLoading(false);\n            if (date.total_results !== date.results.length) {\n               setShowLoadMore(true);\n            }\n            \n            if (countPage === 1) {\n               Notiflix.Notify.success(\n                  `Hooray! We found ${date.total_results} movies.`\n               );\n            }\n         \n            if (date.total_results <= countPage * 20) {\n               setShowLoadMore(false);\n               Notiflix.Notify.info(\n                  \"We're sorry, but you've reached the end of search results.\"\n               );\n            }\n      })\n      .catch(onApiError);\n      }, [countPage, searchName]);\n\n   const onApiError = () => {\n      Notiflix.Notify.failure(\n         'Sorry, there are no movies matching your search query. Please try again.'\n      );\n      setShowLoadMore(false);\n      setLoading(false);\n   };\n\n   const onSubmit = name => {\n      if (!name) {\n         Notiflix.Notify.failure('Please. Enter the name of the movie.');\n         setShowLoadMore(false);\n      }\n      if (searchName === name && countPage === 1) {\n         return;\n      }\n      history({ ...location, search: `query=${name}` });\n      setSearchName(name);\n      setCountPage(1);\n      setMoviesList([]);\n   };\n\n   const onloadeMore = () => {\n      setCountPage(prev => prev + 1);\n   };\n\n   return (\n      <div>\n         <Searchbar onSubmit={onSubmit} />\n         <MoviesGallery moviesList={moviesList} />\n         {loading && <Loader />}\n         {showLoadMore && <Button onClick={onloadeMore} title=\"Load more\" />}\n      </div>\n   );\n};\n\nexport default Movies;","const BASE_URL = 'https://api.themoviedb.org/3';\nconst MY_KEY = \"8b583155d58a646685ec9258b19767f3\";\n\nexport const URL_IMG = 'https://image.tmdb.org/t/p/w500';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n    const response = await fetch(url, config);\n    return response.ok\n        ? await response.json()\n        : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending(page) {\n    return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${MY_KEY}&page=${page}`\n    );\n}\n\nexport function fetchMovieDetailsById(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}?api_key=${MY_KEY}`);\n}\n\nexport function fetchMovieCredits(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/credits?api_key=${MY_KEY}&language=en-US`);\n}\n\nexport function fetchMovieReviews(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/reviews?api_key=${MY_KEY}&language=en-US`);\n}\n\nexport function fetchSearchMovie(query, page = 1) {\n    return fetchWithErrorHandling(`${BASE_URL}/search/movie?api_key=${MY_KEY}&language=en-US&query=${query}&include_adult=false&page=${page}`);\n}"],"names":["MoviesGallery","moviesList","className","styles","id","map","title","name","poster_path","to","src","URL_IMG","nophoto","alt","width","Searchbar","onSubmit","state","window","location","search","split","useState","value","setValue","useEffect","e","preventDefault","type","autoComplete","autoFocus","onChange","target","placeholder","history","useNavigate","useLocation","searchName","setSearchName","countPage","setCountPage","setMoviesList","showLoadMore","setShowLoadMore","loading","setLoading","fetchSearchMovie","then","date","prev","filterRes","results","filter","total_results","length","Notiflix","catch","onApiError","Loader","Button","onClick","BASE_URL","MY_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","page","fetchMovieDetailsById","fetchMovieCredits","fetchMovieReviews","query"],"sourceRoot":""}