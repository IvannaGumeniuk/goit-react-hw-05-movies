{"version":3,"file":"static/js/290.293259a4.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesGallery/MoviesGallery.module.css?276e","components/MoviesGallery/MoviesGallery.js","webpack://goit-react-hw-05-movies/./src/pages/Home/Home.module.css?1370","pages/Home/Home.js","services/moviesApi.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesGallery_list__aM+SO\",\"item\":\"MoviesGallery_item__rY1Lr\",\"name\":\"MoviesGallery_name__Jg+vi\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { URL_IMG } from '../../services/moviesApi';\nimport { Link } from 'react-router-dom';\nimport nophoto from \"../../imeges/nophoto.png\";\nimport styles from \"./MoviesGallery.module.css\";\n\n\nexport default function MoviesGallery({ moviesList }) {\n   return (\n      <ul className={styles.list} id=\"MoviesGallery\">\n         {moviesList.map(({ id, title, name, poster_path }) => (\n            <li className={styles.item} key={id} >\n               <Link to={`/movies/${id}`} className=\"styles.link\">\n                  <img\n                     src={poster_path ? URL_IMG + poster_path : nophoto}\n                     alt={title || name} width=\"250px\"\n                  />\n                  <p className={styles.name}><b>{title || name}</b></p>\n               </Link>\n            </li>\n         ))}\n      </ul>\n   );\n}\n\nMoviesGallery.propTypes = {\n   moviesList: PropTypes.arrayOf(\n      PropTypes.shape({\n         id: PropTypes.number.isRequired,\n         title: PropTypes.string,\n         name: PropTypes.string,\n         poster_path: PropTypes.string,\n      })\n   )\n}","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Home_title__L087v\"};","import { useEffect, useState } from \"react\";\nimport { fetchTrending } from \"../../services/moviesApi\";\nimport Loader from \"../../components/Loader/Loader\";\nimport Button from \"components/Button/Button\";\nimport MoviesGallery from \"../../components/MoviesGallery/MoviesGallery\";\nimport styles from \"./Home.module.css\";\n\nexport default function Home() {\n    const [moviesList, setMoviesList] = useState([]);\n    const [countPage, setCountPage] = useState(1);\n    const [showLoadMore, setShowLoadMore] = useState(true);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n      setShowLoadMore(false);\n      setLoading(true);\n      fetchTrending(countPage).then(date => {\n        setMoviesList(prev => {\n          const filterRes = date.results.filter(({ id }) => {\n            for (const movie of prev) {\n              if (id === movie.id) {\n                return false;\n              }\n            }\n            return true;\n          });\n          return [...prev, ...filterRes];\n        });\n        setLoading(false);\n        setShowLoadMore(true);\n      });\n    }, [countPage] );\n  \n  const onloadeMore = () => {\n    setCountPage(prev => prev + 1);\n  };\n  \n    return (\n      <div className={styles.container}>\n        <h1 className={styles.title}>Top 20 Trending Movies Today</h1>\n        <MoviesGallery moviesList={moviesList} />\n        {loading && <Loader />}\n        {showLoadMore && <Button onClick={onloadeMore} title=\"Load more\" />}\n      </div>\n    );\n  }","const BASE_URL = 'https://api.themoviedb.org/3';\nconst MY_KEY = \"8b583155d58a646685ec9258b19767f3\";\n\nexport const URL_IMG = 'https://image.tmdb.org/t/p/w500';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n    const response = await fetch(url, config);\n    return response.ok\n        ? await response.json()\n        : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending(page) {\n    return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${MY_KEY}&page=${page}`\n    );\n}\n\nexport function fetchMovieDetailsById(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}?api_key=${MY_KEY}`);\n}\n\nexport function fetchMovieCredits(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/credits?api_key=${MY_KEY}&language=en-US`);\n}\n\nexport function fetchMovieReviews(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/reviews?api_key=${MY_KEY}&language=en-US`);\n}\n\nexport function fetchSearchMovie(query, page = 1) {\n    return fetchWithErrorHandling(`${BASE_URL}/search/movie?api_key=${MY_KEY}&language=en-US&query=${query}&include_adult=false&page=${page}`);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["MoviesGallery","moviesList","className","styles","id","map","title","name","poster_path","to","src","URL_IMG","nophoto","alt","width","Home","useState","setMoviesList","countPage","setCountPage","showLoadMore","setShowLoadMore","loading","setLoading","useEffect","fetchTrending","then","date","prev","filterRes","results","filter","Loader","Button","onClick","BASE_URL","MY_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","page","fetchMovieDetailsById","fetchMovieCredits","fetchMovieReviews","fetchSearchMovie","query","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","error","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","e","_e","f","TypeError","normalCompletion","didErr","call","step","next","_e2"],"sourceRoot":""}