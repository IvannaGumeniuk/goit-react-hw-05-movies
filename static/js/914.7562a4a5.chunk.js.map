{"version":3,"file":"static/js/914.7562a4a5.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.js","services/moviesApi.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details_info\":\"MovieDetails_details_info__p+pH5\",\"film_name\":\"MovieDetails_film_name__9dH7C\",\"info_text\":\"MovieDetails_info_text__HTmYs\",\"info\":\"MovieDetails_info__qv2SI\",\"inactive\":\"MovieDetails_inactive__MzN0n\",\"active\":\"MovieDetails_active__uPNdW\",\"image\":\"MovieDetails_image__c1FeV\"};","import { Suspense } from 'react';\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useParams, Outlet, Link, NavLink } from \"react-router-dom\";\nimport { URL_IMG, fetchMovieDetailsById } from \"../../services/moviesApi\";\n// import { useNavigate } from 'react-router-dom';\n// import Button from 'components/Button/Button';\nimport Loader from 'components/Loader/Loader';\nimport NotFound from 'pages/NotFound/NotFound';\nimport nophoto from \"../../imeges/nophoto.png\";\nimport styles from \"./MovieDetails.module.css\";\n\nconst MovieDetails = () => { \n    const { movieId } = useParams();\n    const [movie, setMovie] = useState(null);\n    const [error, setError] = useState(null);\n\n//     const navigate = useNavigate();\n//    const clickGoBack = () => {\n//       if (window.history.state && window.history.state.idx > 0) {\n//          navigate(-1);\n//       } else{\n//          navigate('/', { replace: true });\n//        }\n//    };\n    const location=useLocation()\n    const clickGoBack = location.state?.from ?? \"/\";\n    \n    \n    useEffect(() => {\n        fetchMovieDetailsById(movieId)\n        .then(setMovie)\n        .catch(error => setError(error));\n    }, [movieId]);\n    \n\n    return (\n        <div>\n            \n            {/* <Button onClick={clickGoBack} title=\"Go back\" /> */}\n            <Link to={clickGoBack}>Go Back</Link>\n            {movie && (\n                <div className={styles.details_info}>\n                    <img className={styles.image} src={movie.poster_path ? URL_IMG + movie.poster_path : nophoto} width=\"250px\" alt='movie poster'></img>\n                    <div className={styles.info}>\n                        <div>\n                            <h2 className={styles.film_name}>{movie.title}</h2>\n                            <p><b className={styles.info_text}>User Score:</b> {movie.vote_average}</p>\n                            <p><b className={styles.info_text}>Overview: </b>{movie.overview}</p>\n                            <p><b className={styles.info_text}>Genres:</b>{' '}\n                                {movie.genres.map(genr => genr.name).join(' / ')}</p>\n                        </div>\n\n                        <nav state={{ from: location.state?.from }}>\n                            <NavLink to=\"cast\" state={{ from: location.state?.from }} className={({ isActive }) =>\n                                isActive ? `${styles.active}` : `${styles.inactive}`}>Cast</NavLink>\n                            <NavLink to=\"reviews\" state={{ from: location.state?.from }} className={({ isActive }) =>\n                                isActive ? `${styles.active}` : `${styles.inactive}`}>Reviews</NavLink>\n                        </nav>\n                    </div>\n                </div>\n            )}\n        \n            {error && <NotFound />}\n            <Suspense fallback={<Loader />}>\n                <Outlet />\n            </Suspense>\n        </div>\n    );\n};\n\nexport default MovieDetails;","const BASE_URL = 'https://api.themoviedb.org/3';\nconst MY_KEY = \"8b583155d58a646685ec9258b19767f3\";\n\nexport const URL_IMG = 'https://image.tmdb.org/t/p/w500';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n    const response = await fetch(url, config);\n    return response.ok\n        ? await response.json()\n        : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending(page) {\n    return fetchWithErrorHandling(\n    `${BASE_URL}/trending/movie/day?api_key=${MY_KEY}&page=${page}`\n    );\n}\n\nexport function fetchMovieDetailsById(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}?api_key=${MY_KEY}`);\n}\n\nexport function fetchMovieCredits(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/credits?api_key=${MY_KEY}&language=en-US`);\n}\n\nexport function fetchMovieReviews(id) {\n    return fetchWithErrorHandling(`${BASE_URL}/movie/${id}/reviews?api_key=${MY_KEY}&language=en-US`);\n}\n\nexport function fetchSearchMovie(query, page = 1) {\n    return fetchWithErrorHandling(`${BASE_URL}/search/movie?api_key=${MY_KEY}&language=en-US&query=${query}&include_adult=false&page=${page}`);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["movieId","useParams","useState","movie","setMovie","error","setError","location","useLocation","clickGoBack","state","from","useEffect","fetchMovieDetailsById","then","catch","to","className","styles","src","poster_path","URL_IMG","nophoto","width","alt","title","vote_average","overview","genres","map","genr","name","join","isActive","NotFound","Suspense","fallback","Loader","BASE_URL","MY_KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","page","id","fetchMovieCredits","fetchMovieReviews","fetchSearchMovie","query","asyncGeneratorStep","gen","resolve","_next","_throw","key","arg","info","value","done","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}